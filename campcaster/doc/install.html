<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">
  <title>Campcaster installation documentation</title>
  <meta content="$Author$" name="author">
</head>
<body>
<h1>Preface</h1>
This document is part of the <a href="http://campcaster.campware.org/">Campcaster</a>
project, Copyright Â© 2004 <a href="http://www.mdlf.org/">Media
Development Loan Fund</a>, under the GNU <a
 href="http://www.gnu.org/licenses/gpl.html">GPL</a>.<br>
<ul>
  <li>Author: $Author$</li>
  <li>Version: $Revision$</li>
  <li>Location: $URL$</li>
</ul>

<h1>Scope</h1>
This document describes how to compile and install Campcaster on your
system.


<h1>Installation instructions</h1>


<h2>1. Install the tools, libraries and services</h2>
First, you need to install the <a href="developmentTools.html">tools, 
libraries and services</a> needed to compile and run Campcaster.
You can either install pre-packaged
versions, if they are provided for your distribution; or you can download
them from the URLs listed, and compile them yourself (follow the instructions
included with each tool and library).

<p>If you are using Ubuntu 8.04 (hardy) or later, then the easiest way of doing this
is to run the
<a href="http://trac.campware.org/campcaster/wiki/DevelopmentEnvironment#a1.Installpackages">
<code>apt-get install</code> command</a> given on our wiki page.


<h2>2. Obtain the Campcaster sources</h2>
If you are reading this, you probably already have the sources, so you can
skip to the next step.

<p>If you do not have the sources yet, you need to get the tarballs named
<code>campcaster-&lt;version&gt;.tar.bz2</code> and
<code>campcaster-libraries-&lt;version&gt;.tar.bz2</code>.
Both can be downloaded from 
<a href="http://sourceforge.net/projects/campcaster/">
<code>http://sourceforge.net/projects/campcaster/</code></a>.


<h2>3. Compile and install Campcaster</h2>
To install Campcaster in /opt/campcaster, do the following:
<pre>tar xfj campcaster-&lt;version&gt;.tar.bz2
tar xfj campcaster-libraries-&lt;version&gt;.tar.bz2
cd campcaster-&lt;version&gt;
./configure --prefix=/opt/campcaster
make install
</pre>
To run <code>make install</code>, you need to be able to write the
installation directory.  Run it as root (change to the root user, or
write <code>sudo</code> before it).

<p>The <code>configure</code> command takes several arguments, 
the most important are the following:
<pre>  --prefix=PREFIX           install the files of the application in PREFIX
                            [default: /usr/local]
</pre>
The installation directory.  This is where Campcaster will be installed.
<br>
<pre>  --with-apache-group       specify the group of the apache web server daemon
                            [default: apache]
</pre>
The group of the apache web server daemon.  On Debian-based systems, including
Ubuntu, this is <code>www-data</code>.

<p>There are several more options; type <code>./configure --help</code> to get
a list of them, together with their default values.


<h2>4. Configure the external services</h2>
Before you can use Campcaster, you need to set up and configure the web server 
and the database that Campcaster uses to store its data. 
The simplest way is to use the script included with Campcaster:
<pre>./bin/postInstallStation.sh --directory=/opt/campcaster</pre>
You need to run this script as root, too.

<p>You can also set up everything manually; see the 
<a href="gettingStarted.html">gettingStarted.html</a> 
document about how to do that.

<p><code>postInstallStation.sh</code> takes several arguments;
the most important are the following:
<pre>  --directory=PREFIX        look for Campcaster files in PREFIX
</pre>
The installation directory, where Campcaster was installed.  This argument
is obligatory.

<p><pre>  --apache-group            specify the group of the apache web server
                            [default: apache]
</pre>
The group of the apache web server daemon.  On Debian-based systems, including
Ubuntu, this is <code>www-data</code>.

<p><pre>  --postgresql-dir          the PostgreSQL configuration directory
                            [default: /etc/postgresql]
</pre>
The directory containing the PostgreSQL configuration file
<code>pg_hba.conf</code>.  On Ubuntu 8.04 (hardy), this is 
<code>/etc/postgresql/8.3/main</code>.  On other distributions, it may be
different, for example <code>/var/lib/postgres/data/</code>.

<p><pre>
  --postgresql-init-script  the start/stop command for the PostgreSQL daemon
                            [default: /etc/init.d/postgresql]
</pre>
The init script used to start and stop the PostgreSQL daemon.  On Ubuntu 8.04 (hardy), this is <code>/etc/init.d/postgresql-8.3</code>.

<p>There are several more options; type
<code>./bin/postInstallStation.sh --help</code>
to get a list of them, together with their default values.


<h2>5. Start Campcaster</h2>
After a successful installation, the Campcaster scheduler has to be
started. The scheduler has a System V runlevel-style startup script,
under <code>&lt;installation directory&gt;/bin/scheduler.sh<code>. 
To start the scheduler, simply type:
<pre>&lt;installation directory&gt;/bin/campcaster-scheduler.sh start</pre>

<p>To use the the web interface, point your browser to
<code>http://localhost/campcaster</code>.  You can also use the web interface
from other computers; simply put the name or IP number of the computer where 
Campcaster was installed in place of <code>localhost</code>.

<p>To start Campcaster Studio, type the following:
<pre>&lt;installation directory&gt;/bin/campcaster-studio.sh</pre>

<p>For your first login, use the following values:
<ul>
  <li>username: root</li>
  <li>password: q</li>
</ul>
Later you can change the password, and add more users, from the web interface.

<p>You can make the scheduler start automatically when the system boots up, 
by installing the &lt;installation directory&gt;/etc/campcaster-scheduler 
init script.  In Debian-based systems, this is done by 
typing 
<pre>cp &lt;installation directory&gt;/etc/campcaster-scheduler /etc/init.d/
update-rc.d campcaster-scheduler defaults 92
</pre>
as root.  Note: in the init script, the variable <code>CAMPCASTER_DIR</code> 
is hard-coded to <code>/opt/campcaster</code>.  You will need to edit it and 
change it to your installation directory if it is different.

<p>You can quickly fill your Campcaster storage with audio files using the 
mass import script <code>&lt;installation directory&gt;/bin/import.sh</code>.
Use the <code>--help</code> option to learn how to use it.  You will need 
write permissions to the installation directory (i.e., typically you will 
need to run the script as root).

<p>Have fun!
</body>
</html>
